/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/bodymovin@4.13.0/player/js/elements/ShapeElement.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function IShapeElement(t,e,s,r,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,s,r,i)}createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"square"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(t){for(var e=this.processedElements.length;e;)if(e-=1,this.processedElements[e].elem===t)return this.processedElements[e].pos;return 0},IShapeElement.prototype.addProcessedElement=function(t,e){for(var s=this.processedElements.length;s;)if(s-=1,this.processedElements[s].elem===t){this.processedElements[s].pos=e;break}0===s&&this.processedElements.push({elem:t,pos:e})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.data.hd&&!this.data.td||styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(t,e,s){var r,i="gr_"+randomString(10);(r=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var a,o,l,h=[];for(l=4*e.g.p,o=0;o<l;o+=4)a=document.createElementNS(svgNS,"stop"),r.appendChild(a),h.push(a);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+i+")"),this.globalData.defs.appendChild(r),s.gf=r,s.cst=h},IShapeElement.prototype.setGradientOpacity=function(t,e,s){if(t.g.k.k[0].s&&t.g.k.k[0].s.length>4*t.g.p||t.g.k.k.length>4*t.g.p){var r,i,a,o,l=document.createElementNS(svgNS,"mask"),h=document.createElementNS(svgNS,"path");l.appendChild(h);var n="op_"+randomString(10),p="mk_"+randomString(10);l.setAttribute("id",p),(r=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var d=[];for(a=4*t.g.p;a<o;a+=2)(i=document.createElementNS(svgNS,"stop")).setAttribute("stop-color","rgb(255,255,255)"),r.appendChild(i),d.push(i);return h.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+n+")"),this.globalData.defs.appendChild(r),this.globalData.defs.appendChild(l),e.of=r,e.ost=d,s.msElem=h,p}},IShapeElement.prototype.createStyleElement=function(t,e,s){var r={},i={data:t,type:t.ty,d:"",ld:"",lvl:e,mdf:!1,closed:!1},a=document.createElementNS(svgNS,"path");if(r.o=PropertyFactory.getProp(this,t.o,0,.01,s),("st"==t.ty||"gs"==t.ty)&&(a.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),a.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),a.setAttribute("fill-opacity","0"),1==t.lj&&a.setAttribute("stroke-miterlimit",t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,s),t.d)){var o=PropertyFactory.getDashProp(this,t.d,"svg",s);o.k||(a.setAttribute("stroke-dasharray",o.dasharray),a.setAttribute("stroke-dashoffset",o.dashoffset)),r.d=o}if("fl"==t.ty||"st"==t.ty)r.c=PropertyFactory.getProp(this,t.c,1,255,s);else{r.g=PropertyFactory.getGradientProp(this,t.g,s),2==t.t&&(r.h=PropertyFactory.getProp(this,t.h,0,.01,s),r.a=PropertyFactory.getProp(this,t.a,0,degToRads,s)),r.s=PropertyFactory.getProp(this,t.s,1,null,s),r.e=PropertyFactory.getProp(this,t.e,1,null,s),this.setGradientData(a,t,r,i);var l=this.setGradientOpacity(t,r,i);l&&a.setAttribute("mask","url(#"+l+")")}return r.elem=a,2===t.r&&a.setAttribute("fill-rule","evenodd"),t.ln&&a.setAttribute("id",t.ln),t.cl&&a.setAttribute("class",t.cl),i.pElem=a,this.stylesList.push(i),r.style=i,r},IShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]},s=document.createElementNS(svgNS,"g");return e.gr=s,t.ln&&e.gr.setAttribute("id",t.ln),e},IShapeElement.prototype.createTransformElement=function(t,e){return{transform:{op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:PropertyFactory.getProp(this,t,2,null,e)},elements:[]}},IShapeElement.prototype.createShapeElement=function(t,e,s,r){var i={elements:[],caches:[],styles:[],transformers:e,lStr:""},a=4;return"rc"==t.ty?a=5:"el"==t.ty?a=6:"sr"==t.ty&&(a=7),i.sh=ShapePropertyFactory.getShapeProp(this,t,a,r),i.lvl=s,this.shapes.push(i.sh),this.addShapeToModifiers(i),i};var cont=0;IShapeElement.prototype.setElementStyles=function(){var t,e=this.stylesList.length,s=[];for(t=0;t<e;t+=1)this.stylesList[t].closed||s.push(this.stylesList[t]);return s},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var e;t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(t,e,s,r,i,a,o,l){var h,n,p,d,m,f,c=[].concat(o),y=t.length-1,u=[],g=[];for(h=y;h>=0;h-=1){if((f=this.searchProcessedElement(t[h]))?e[h]=s[f-1]:t[h]._render=l,"fl"==t[h].ty||"st"==t[h].ty||"gf"==t[h].ty||"gs"==t[h].ty)f?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],a,i),t[h]._render&&r.appendChild(e[h].elem),u.push(e[h].style);else if("gr"==t[h].ty){if(f)for(p=e[h].it.length,n=0;n<p;n+=1)e[h].prevViewData[n]=e[h].it[n];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,e[h].gr,i,a+1,c,l),t[h]._render&&r.appendChild(e[h].gr)}else"tr"==t[h].ty?(f||(e[h]=this.createTransformElement(t[h],i)),d=e[h].transform,c.push(d)):"sh"==t[h].ty||"rc"==t[h].ty||"el"==t[h].ty||"sr"==t[h].ty?(f||(e[h]=this.createShapeElement(t[h],c,a,i)),e[h].elements=this.setElementStyles()):"tm"==t[h].ty||"rd"==t[h].ty||"ms"==t[h].ty?(f?(m=e[h]).closed=!1:((m=ShapeModifiers.getModifier(t[h].ty)).init(this,t[h],i),e[h]=m,this.shapeModifiers.push(m)),g.push(m)):"rp"==t[h].ty&&(f?(m=e[h]).closed=!0:(m=ShapeModifiers.getModifier(t[h].ty),e[h]=m,m.init(this,t,h,e,i),this.shapeModifiers.push(m),l=!1),g.push(m));this.addProcessedElement(t[h],h+1)}for(y=u.length,h=0;h<y;h+=1)u[h].closed=!0;for(y=g.length,h=0;h<y;h+=1)g[h].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(t){var e,s=this.shapeModifiers.length;for(e=0;e<s;e+=1)this.shapeModifiers[e].addShape(t)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var e,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),e=0;e<s;e+=1)"0"===this.stylesList[e].ld&&(this.stylesList[e].ld="1",this.stylesList[e].pElem.style.display="block"),(this.stylesList[e].mdf||this.firstFrame)&&(this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].msElem&&this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d));this.firstFrame&&(this.firstFrame=!1)}else this.hide()},IShapeElement.prototype.hide=function(){if(!this.hidden){var t;for(this.layerElement.style.display="none",t=this.stylesList.length-1;t>=0;t-=1)"0"!==this.stylesList[t].ld&&(this.stylesList[t].ld="0",this.stylesList[t].pElem.style.display="none",this.stylesList[t].pElem.parentNode&&(this.stylesList[t].parent=this.stylesList[t].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(t,e,s){var r,i;for(r=t.length-1;r>=0;r-=1)"tr"==(i=t[r].ty)?((this.firstFrame||e[r].transform.op.mdf&&s)&&s.setAttribute("opacity",e[r].transform.op.v),(this.firstFrame||e[r].transform.mProps.mdf&&s)&&s.setAttribute("transform",e[r].transform.mProps.v.to2dCSS())):"sh"==i||"el"==i||"rc"==i||"sr"==i?this.renderPath(t[r],e[r]):"fl"==i?this.renderFill(t[r],e[r]):"gf"==i?this.renderGradient(t[r],e[r]):"gs"==i?(this.renderGradient(t[r],e[r]),this.renderStroke(t[r],e[r])):"st"==i?this.renderStroke(t[r],e[r]):"gr"==i&&this.renderShape(t[r].it,e[r].it,e[r].gr)},IShapeElement.prototype.buildShapeString=function(t,e,s,r){var i,a="";for(i=1;i<e;i+=1)1===i&&(a+=" M"+r.applyToPointStringified(t.v[0][0],t.v[0][1])),a+=" C"+r.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+r.applyToPointStringified(t.i[i][0],t.i[i][1])+" "+r.applyToPointStringified(t.v[i][0],t.v[i][1]);return 1===e&&(a+=" M"+r.applyToPointStringified(t.v[0][0],t.v[0][1])),s&&e&&(a+=" C"+r.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+r.applyToPointStringified(t.i[0][0],t.i[0][1])+" "+r.applyToPointStringified(t.v[0][0],t.v[0][1]),a+="z"),a},IShapeElement.prototype.renderPath=function(t,e){var s,r,i,a,o,l,h=e.elements.length,n=e.lvl;if(t._render)for(l=0;l<h;l+=1)if(e.elements[l].data._render){a=e.sh.mdf||this.firstFrame,i="M0 0";var p=e.sh.paths;if(r=p._length,e.elements[l].lvl<n){for(var d,m=this.mHelper.reset(),f=n-e.elements[l].lvl,c=e.transformers.length-1;f>0;)a=e.transformers[c].mProps.mdf||a,d=e.transformers[c].mProps.v.props,m.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),f--,c--;if(a){for(s=0;s<r;s+=1)(o=p.shapes[s])&&o._length&&(i+=this.buildShapeString(o,o._length,o.c,m));e.caches[l]=i}else i=e.caches[l]}else if(a){for(s=0;s<r;s+=1)(o=p.shapes[s])&&o._length&&(i+=this.buildShapeString(o,o._length,o.c,this.identityMatrix));e.caches[l]=i}else i=e.caches[l];e.elements[l].d+=i,e.elements[l].mdf=a||e.elements[l].mdf}else e.elements[l].mdf=!0},IShapeElement.prototype.renderFill=function(t,e){var s=e.style;(e.c.mdf||this.firstFrame)&&s.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&s.pElem.setAttribute("fill-opacity",e.o.v)},IShapeElement.prototype.renderGradient=function(t,e){var s,r,i,a,o,l=e.gf,h=e.of,n=e.s.v,p=e.e.v;if(e.o.mdf||this.firstFrame){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.elem.setAttribute(d,e.o.v)}if(e.s.mdf||this.firstFrame){var m=1===t.t?"x1":"cx",f="x1"===m?"y1":"cy";l.setAttribute(m,n[0]),l.setAttribute(f,n[1]),h&&(h.setAttribute(m,n[0]),h.setAttribute(f,n[1]))}if(e.g.cmdf||this.firstFrame){s=e.cst;var c=e.g.c;for(i=s.length,r=0;r<i;r+=1)(a=s[r]).setAttribute("offset",c[4*r]+"%"),a.setAttribute("stop-color","rgb("+c[4*r+1]+","+c[4*r+2]+","+c[4*r+3]+")")}if(h&&(e.g.omdf||this.firstFrame)){s=e.ost;var y=e.g.o;for(i=s.length,r=0;r<i;r+=1)(a=s[r]).setAttribute("offset",y[2*r]+"%"),a.setAttribute("stop-opacity",y[2*r+1])}if(1===t.t)(e.e.mdf||this.firstFrame)&&(l.setAttribute("x2",p[0]),l.setAttribute("y2",p[1]),h&&(h.setAttribute("x2",p[0]),h.setAttribute("y2",p[1])));else if((e.s.mdf||e.e.mdf||this.firstFrame)&&(o=Math.sqrt(Math.pow(n[0]-p[0],2)+Math.pow(n[1]-p[1],2)),l.setAttribute("r",o),h&&h.setAttribute("r",o)),e.e.mdf||e.h.mdf||e.a.mdf||this.firstFrame){o||(o=Math.sqrt(Math.pow(n[0]-p[0],2)+Math.pow(n[1]-p[1],2)));var u=Math.atan2(p[1]-n[1],p[0]-n[0]),g=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),S=Math.cos(u+e.a.v)*g+n[0],E=Math.sin(u+e.a.v)*g+n[1];l.setAttribute("fx",S),l.setAttribute("fy",E),h&&(h.setAttribute("fx",S),h.setAttribute("fy",E))}},IShapeElement.prototype.renderStroke=function(t,e){var s=e.style,r=e.d;r&&r.k&&(r.mdf||this.firstFrame)&&(s.pElem.setAttribute("stroke-dasharray",r.dasharray),s.pElem.setAttribute("stroke-dashoffset",r.dashoffset)),e.c&&(e.c.mdf||this.firstFrame)&&s.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&s.pElem.setAttribute("stroke-opacity",e.o.v),(e.w.mdf||this.firstFrame)&&(s.pElem.setAttribute("stroke-width",e.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",e.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null};
//# sourceMappingURL=/sm/96532452548238f6a1f59fd727f753d90eae14a1d6999fcf52b8dd258c7ba0f0.map