/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/bodymovin@4.13.0/player/js/elements/svgElements/SVGTextElement.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function SVGTextElement(t,e,s,a,r){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,t,e,s,a,r)}createElement(SVGBaseElement,SVGTextElement),extendPrototype(ITextElement,SVGTextElement),SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=document.createElementNS(svgNS,"text"))},SVGTextElement.prototype.buildNewText=function(){var t,e,s=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:s?s.l.length:0}),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",s.sw)),this.layerElement.setAttribute("font-size",s.s);var a=this.globalData.fontManager.getFontByName(s.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var r=s.fWeight,i=s.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",r)}var n=s.l||[],l=this.globalData.fontManager.chars;if(e=n.length){var h,o,p=this.mHelper,d="",m=this.data.singleShape,c=0,f=0,u=!0,g=s.tr/1e3*s.s;if(m&&!l){var y=this.textContainer,b="";switch(s.j){case 1:b="end";break;case 2:b="middle";break;case 2:b="start"}y.setAttribute("text-anchor",b),y.setAttribute("letter-spacing",g);var x=s.t.split(String.fromCharCode(13));e=x.length;f=s.ps?s.ps[1]+s.ascent:0;for(t=0;t<e;t+=1)(h=this.textSpans[t]||document.createElementNS(svgNS,"tspan")).textContent=x[t],h.setAttribute("x",0),h.setAttribute("y",f),h.style.display="inherit",y.appendChild(h),this.textSpans[t]=h,f+=s.lh;this.layerElement.appendChild(y)}else{var S,A,E=this.textSpans.length;for(t=0;t<e;t+=1)l&&m&&0!==t||(h=E>t?this.textSpans[t]:document.createElementNS(svgNS,l?"path":"text"),E<=t&&(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=h,this.layerElement.appendChild(h)),h.style.display="inherit"),p.reset(),l?(p.scale(s.s/100,s.s/100),m&&(n[t].n&&(c=-g,f+=s.yOffset,f+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(s,p,n[t].line,c,f),c+=n[t].l||0,c+=g),o=(S=(A=this.globalData.fontManager.getCharData(s.t.charAt(t),a.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily))&&A.data||{}).shapes?S.shapes[0].it:[],m?d+=this.createPathShape(p,o):h.setAttribute("d",this.createPathShape(p,o))):(h.textContent=n[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));m&&h.setAttribute("d",d)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0}},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderLetters(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderLetters=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var s,a,r=this.textAnimator.renderedLetters,i=this.textProperty.currentData.l;for(e=i.length,t=0;t<e;t+=1)i[t].n||(s=r[t],a=this.textSpans[t],s.mdf.m&&a.setAttribute("transform",s.m),s.mdf.o&&a.setAttribute("opacity",s.o),s.mdf.sw&&a.setAttribute("stroke-width",s.sw),s.mdf.sc&&a.setAttribute("stroke",s.sc),s.mdf.fc&&a.setAttribute("fill",s.fc))}},SVGTextElement.prototype.renderFrame=function(t){!1!==this._parent.renderFrame.call(this,t)?(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1),this.renderLetters()):this.hide()};
//# sourceMappingURL=/sm/2394f9eef439c8a37e3877a95ec6fc8231524d4a491fae96f50524c6d61af9e8.map