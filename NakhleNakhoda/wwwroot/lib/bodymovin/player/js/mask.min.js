/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/bodymovin@4.13.0/player/js/mask.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function MaskElement(t,e,a){this.dynamicProperties=[],this.data=t,this.element=e,this.globalData=a,this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length}),this.maskElement=null,this.firstFrame=!0;var i,s,r,o,l,h,n,m,p=this.globalData.defs,d=this.masksProperties.length,u=this.masksProperties,f=0,c=[],v=randomString(10),b="clipPath",P="clip-path";for(i=0;i<d;i++)if(("a"!==u[i].mode&&"n"!==u[i].mode||u[i].inv||100!==u[i].o.k)&&(b="mask",P="mask"),"s"!=u[i].mode&&"i"!=u[i].mode||0!=f?l=null:((l=document.createElementNS(svgNS,"rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w),l.setAttribute("height",this.element.comp.data.h),c.push(l)),s=document.createElementNS(svgNS,"path"),"n"!=u[i].mode){if(f+=1,"s"==u[i].mode?s.setAttribute("fill","#000000"):s.setAttribute("fill","#ffffff"),s.setAttribute("clip-rule","nonzero"),0!==u[i].x.k){b="mask",P="mask",m=PropertyFactory.getProp(this.element,u[i].x,0,null,this.dynamicProperties);var k="fi_"+randomString(10);(h=document.createElementNS(svgNS,"filter")).setAttribute("id",k),(n=document.createElementNS(svgNS,"feMorphology")).setAttribute("operator","dilate"),n.setAttribute("in","SourceGraphic"),n.setAttribute("radius","0"),h.appendChild(n),p.appendChild(h),"s"==u[i].mode?s.setAttribute("stroke","#000000"):s.setAttribute("stroke","#ffffff")}else n=null,m=null;if(this.storedData[i]={elem:s,x:m,expan:n,lastPath:"",lastOperator:"",filterId:k,lastRadius:0},"i"==u[i].mode){o=c.length;var D=document.createElementNS(svgNS,"g");for(r=0;r<o;r+=1)D.appendChild(c[r]);var g=document.createElementNS(svgNS,"mask");g.setAttribute("mask-type","alpha"),g.setAttribute("id",v+"_"+f),g.appendChild(s),p.appendChild(g),D.setAttribute("mask","url("+locationHref+"#"+v+"_"+f+")"),c.length=0,c.push(D)}else c.push(s);u[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,u[i].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,u[i],3,this.dynamicProperties,null)},l&&(this.viewData[i].invRect=l),this.viewData[i].prop.k||this.drawPath(u[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,u[i].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,u[i],3,this.dynamicProperties,null),elem:s},p.appendChild(s);for(this.maskElement=document.createElementNS(svgNS,b),d=c.length,i=0;i<d;i+=1)this.maskElement.appendChild(c[i]);this.maskElement.setAttribute("id",v),f>0&&this.element.maskedElement.setAttribute(P,"url("+locationHref+"#"+v+")"),p.appendChild(this.maskElement)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.prepareFrame=function(){var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue()},MaskElement.prototype.renderFrame=function(t){var e,a=this.masksProperties.length;for(e=0;e<a;e++)if((this.viewData[e].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op.mdf||this.firstFrame)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[e].invRect.setAttribute("x",-t.props[12]),this.viewData[e].invRect.setAttribute("y",-t.props[13])),this.storedData[e].x&&(this.storedData[e].x.mdf||this.firstFrame))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,a){var i,s,r=" M"+e.v[0][0]+","+e.v[0][1];for(s=e._length,i=1;i<s;i+=1)r+=" C"+bm_rnd(e.o[i-1][0])+","+bm_rnd(e.o[i-1][1])+" "+bm_rnd(e.i[i][0])+","+bm_rnd(e.i[i][1])+" "+bm_rnd(e.v[i][0])+","+bm_rnd(e.v[i][1]);e.c&&s>1&&(r+=" C"+bm_rnd(e.o[i-1][0])+","+bm_rnd(e.o[i-1][1])+" "+bm_rnd(e.i[0][0])+","+bm_rnd(e.i[0][1])+" "+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),a.lastPath!==r&&(a.elem&&(e.c?t.inv?a.elem.setAttribute("d",this.solidPath+r):a.elem.setAttribute("d",r):a.elem.setAttribute("d","")),a.lastPath=r)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};
//# sourceMappingURL=/sm/5635e299b65a3f67f67096763b527edf58ffd6dac72386372c4097ef08b49127.map