/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/bodymovin@4.13.0/player/js/utils/shapes/RoundCornersModifier.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function RoundCornersModifier(){}extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(e){if(this.elem.globalData.frameId!==this.frameId||e){this.mdf=!!e,this.frameId=this.elem.globalData.frameId;var r,t=this.dynamicProperties.length;for(r=0;r<t;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,r.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(e,r){var t=shape_pool.newShape();t.c=e.c;var o,i,s,a,h,p,n,d,f,l,c,m,u,M=e._length,y=0;for(o=0;o<M;o+=1)i=e.v[o],a=e.o[o],s=e.i[o],i[0]===a[0]&&i[1]===a[1]&&i[0]===s[0]&&i[1]===s[1]?0!==o&&o!==M-1||e.c?(h=0===o?e.v[M-1]:e.v[o-1],n=(p=Math.sqrt(Math.pow(i[0]-h[0],2)+Math.pow(i[1]-h[1],2)))?Math.min(p/2,r)/p:0,d=m=i[0]+(h[0]-i[0])*n,f=u=i[1]-(i[1]-h[1])*n,l=d-(d-i[0])*roundCorner,c=f-(f-i[1])*roundCorner,t.setTripleAt(d,f,l,c,m,u,y),y+=1,h=o===M-1?e.v[0]:e.v[o+1],n=(p=Math.sqrt(Math.pow(i[0]-h[0],2)+Math.pow(i[1]-h[1],2)))?Math.min(p/2,r)/p:0,d=l=i[0]+(h[0]-i[0])*n,f=c=i[1]+(h[1]-i[1])*n,m=d-(d-i[0])*roundCorner,u=f-(f-i[1])*roundCorner,t.setTripleAt(d,f,l,c,m,u,y),y+=1):(t.setTripleAt(i[0],i[1],a[0],a[1],s[0],s[1],y),y+=1):(t.setTripleAt(e.v[o][0],e.v[o][1],e.o[o][0],e.o[o][1],e.i[o][0],e.i[o][1],y),y+=1);return t},RoundCornersModifier.prototype.processShapes=function(e){var r,t,o,i,s,a,h=this.shapes.length,p=this.rd.v;if(0!==p)for(t=0;t<h;t+=1){if((s=this.shapes[t]).shape.paths,a=s.localShapeCollection,s.shape.mdf||this.mdf||e)for(a.releaseShapes(),s.shape.mdf=!0,r=s.shape.paths.shapes,i=s.shape.paths._length,o=0;o<i;o+=1)a.addShape(this.processPath(r[o],p));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier);
//# sourceMappingURL=/sm/a02365427012a619ffd10facae5f67bf75eabf08976aedffd65180a590b1bf9c.map